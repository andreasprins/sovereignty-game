@import url('https://fonts.googleapis.com/css2?family=SUSE:wght@400;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── CSS Variables ─────────────────────────────────────────────────────────── */
:root {
  --green:    #30ba78;
  --orange:   #fe7c3f;
  --light:    #5fd4a0;
  --red:      #e8274b;
  --yellow:   #f5c842;
  --bg:       #061a16;
  --surface:  #0c322c;
  --surface2: #0f3d34;
  --border:   rgba(48, 186, 120, 0.25);
}

/* ── Reset & base ──────────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; }

html, body, #root {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--bg);
  color: #d6f0e5;
  font-family: 'SUSE', system-ui, sans-serif;
  overflow-x: hidden;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

/* ── Font utilities ─────────────────────────────────────────────────────────── */
.font-suse     { font-family: 'SUSE', system-ui, sans-serif; }
/* keep legacy alias so existing class names still work */
.font-orbitron { font-family: 'SUSE', system-ui, sans-serif; }

/* ── Neon text effects ─────────────────────────────────────────────────────── */
.neon-green {
  color: var(--green);
  text-shadow: 0 0 8px var(--green), 0 0 18px var(--green);
}
.neon-orange {
  color: var(--orange);
  text-shadow: 0 0 8px var(--orange), 0 0 18px var(--orange);
}
.neon-light {
  color: var(--light);
  text-shadow: 0 0 8px var(--light), 0 0 18px var(--light);
}
.neon-red {
  color: var(--red);
  text-shadow: 0 0 8px var(--red), 0 0 18px var(--red);
}
.neon-yellow {
  color: var(--yellow);
  text-shadow: 0 0 8px var(--yellow), 0 0 18px var(--yellow);
}
/* Legacy aliases used in components */
.neon-cyan   { color: var(--green);  text-shadow: 0 0 8px var(--green),  0 0 18px var(--green); }
.neon-purple { color: var(--orange); text-shadow: 0 0 8px var(--orange), 0 0 18px var(--orange); }

/* ── Neon border effects ───────────────────────────────────────────────────── */
.neon-border-green {
  border: 1px solid rgba(48, 186, 120, 0.45);
  box-shadow: 0 0 12px rgba(48, 186, 120, 0.15), inset 0 0 8px rgba(48, 186, 120, 0.05);
}
.neon-border-orange {
  border: 1px solid rgba(254, 124, 63, 0.45);
  box-shadow: 0 0 12px rgba(254, 124, 63, 0.15), inset 0 0 8px rgba(254, 124, 63, 0.05);
}
/* Legacy aliases */
.neon-border-cyan   { border: 1px solid rgba(48, 186, 120, 0.45);  box-shadow: 0 0 12px rgba(48, 186, 120, 0.15),  inset 0 0 8px rgba(48, 186, 120, 0.05); }
.neon-border-purple { border: 1px solid rgba(254, 124, 63, 0.45);  box-shadow: 0 0 12px rgba(254, 124, 63, 0.15),  inset 0 0 8px rgba(254, 124, 63, 0.05); }

/* ── Background grid ───────────────────────────────────────────────────────── */
.bg-grid {
  background-image:
    linear-gradient(rgba(48, 186, 120, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(48, 186, 120, 0.04) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* ── Particle canvas ───────────────────────────────────────────────────────── */
#particle-canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 0;
}

/* ── Scanline overlay ──────────────────────────────────────────────────────── */
.scanline::after {
  content: '';
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 3px;
  background: linear-gradient(transparent, rgba(48, 186, 120, 0.06), transparent);
  animation: scanline 8s linear infinite;
  pointer-events: none;
  z-index: 100;
}

@keyframes scanline {
  0%   { transform: translateY(-10px); }
  100% { transform: translateY(100vh); }
}

/* ── Glitch title ──────────────────────────────────────────────────────────── */
.glitch-text { position: relative; }
.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0; width: 100%;
}
.glitch-text::before {
  color: var(--orange);
  animation: glitch-before 3.5s infinite;
  clip-path: polygon(0 30%, 100% 30%, 100% 50%, 0 50%);
}
.glitch-text::after {
  color: var(--light);
  animation: glitch-after 3.5s infinite;
  clip-path: polygon(0 60%, 100% 60%, 100% 80%, 0 80%);
}
@keyframes glitch-before {
  0%, 88%, 100% { transform: translate(0); opacity: 0; }
  90% { transform: translate(-3px, 1px); opacity: 0.8; }
  92% { transform: translate(3px, -2px); opacity: 0.8; }
  94% { transform: translate(-2px, 2px); opacity: 0; }
}
@keyframes glitch-after {
  0%, 88%, 100% { transform: translate(0); opacity: 0; }
  91% { transform: translate(3px, 2px);   opacity: 0.8; }
  93% { transform: translate(-3px, -1px); opacity: 0.8; }
  95% { transform: translate(2px, -2px);  opacity: 0; }
}

/* ── Timer ring ────────────────────────────────────────────────────────────── */
.timer-ring-track {
  fill: none;
  stroke: rgba(255,255,255,0.08);
  stroke-width: 6;
}
.timer-ring-progress {
  fill: none;
  stroke-width: 6;
  stroke-linecap: round;
  transform-origin: center;
  transform: rotate(-90deg);
  transition: stroke-dashoffset 1s linear, stroke 0.5s;
}

/* ── Answer buttons ────────────────────────────────────────────────────────── */
.answer-btn {
  position: relative;
  overflow: hidden;
  transition: transform 0.1s, box-shadow 0.2s;
  min-height: 52px;
}
.answer-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, transparent 60%);
}
.answer-btn:hover:not(:disabled) {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 0 20px rgba(48, 186, 120, 0.35);
}
.answer-btn:active:not(:disabled) { transform: scale(0.98); }
.answer-btn.selected-correct {
  background: rgba(48, 186, 120, 0.2) !important;
  border-color: var(--green) !important;
  box-shadow: 0 0 20px rgba(48, 186, 120, 0.5) !important;
  animation: correctPulse 0.5s ease-out;
}
.answer-btn.selected-wrong {
  background: rgba(232, 39, 75, 0.2) !important;
  border-color: var(--red) !important;
  box-shadow: 0 0 20px rgba(232, 39, 75, 0.4) !important;
  animation: shake 0.4s ease-in-out;
}
.answer-btn.is-correct {
  background: rgba(48, 186, 120, 0.15) !important;
  border-color: var(--green) !important;
}
@keyframes correctPulse {
  0%   { transform: scale(1); }
  30%  { transform: scale(1.04); }
  60%  { transform: scale(0.98); }
  100% { transform: scale(1); }
}
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-8px); }
  40% { transform: translateX(8px); }
  60% { transform: translateX(-5px); }
  80% { transform: translateX(5px); }
}

/* ── Score popup ───────────────────────────────────────────────────────────── */
@keyframes scorePop {
  0%   { transform: translateY(0) scale(0.6); opacity: 1; }
  40%  { transform: translateY(-20px) scale(1.2); opacity: 1; }
  100% { transform: translateY(-60px) scale(1); opacity: 0; }
}
.score-popup { animation: scorePop 0.8s ease-out forwards; pointer-events: none; }

/* ── Streak badge ──────────────────────────────────────────────────────────── */
@keyframes streakPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}
.streak-badge { animation: streakPulse 0.8s ease-in-out 3; }

/* ── Screen transitions ─────────────────────────────────────────────────────── */
.screen-enter { animation: slideIn 0.35s ease-out; }
@keyframes slideIn {
  from { opacity: 0; transform: translateX(40px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* ── Countdown big number ──────────────────────────────────────────────────── */
@keyframes countNum {
  0%   { transform: scale(2); opacity: 0; }
  20%  { transform: scale(1); opacity: 1; }
  80%  { transform: scale(1); opacity: 1; }
  100% { transform: scale(0.5); opacity: 0; }
}
.countdown-num { animation: countNum 0.9s ease-in-out forwards; }

/* ── Rank badge glow ───────────────────────────────────────────────────────── */
@keyframes rankGlow {
  0%, 100% { box-shadow: 0 0 10px currentColor, 0 0 20px currentColor; }
  50% { box-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 80px currentColor; }
}
.rank-glow { animation: rankGlow 2s ease-in-out infinite; }

/* ── Input style ────────────────────────────────────────────────────────────── */
.neon-input {
  background: rgba(48, 186, 120, 0.05);
  border: 1px solid rgba(48, 186, 120, 0.3);
  color: #d6f0e5;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.neon-input:focus {
  border-color: var(--green);
  box-shadow: 0 0 15px rgba(48, 186, 120, 0.3);
}
.neon-input::placeholder { color: rgba(214, 240, 229, 0.4); }

/* ── Scrollbar ─────────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--green); border-radius: 2px; }

/* ── Utility: glass surface ────────────────────────────────────────────────── */
.glass {
  background: rgba(12, 50, 44, 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* ── Display mode ticker ───────────────────────────────────────────────────── */
@keyframes ticker {
  0%   { transform: translateX(100vw); }
  100% { transform: translateX(-100%); }
}
.ticker-inner { animation: ticker 25s linear infinite; }

/* ── SUSE branding pill ────────────────────────────────────────────────────── */
.suse-pill {
  background: linear-gradient(135deg, #30ba78, #0c322c);
  padding: 2px 10px;
  border-radius: 999px;
  font-family: 'SUSE', sans-serif;
  font-weight: 800;
  font-size: 0.85rem;
  letter-spacing: 0.06em;
  color: #fff;
}
